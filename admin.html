<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Add CSP meta tag after other meta tags -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; 
        script-src 'self' https://js.paystack.co https://unpkg.com 'unsafe-inline' 'unsafe-eval'; 
        style-src 'self' 'unsafe-inline'; 
        img-src 'self' data: https:; 
        connect-src 'self' https://api.paystack.co https://js.paystack.co; 
        frame-src https://js.paystack.co; 
        font-src 'self' data:;">
    <link rel="shortcut icon" href="./BusyCorner.png" type="image/x-icon">
    <link rel="stylesheet" href="./admin.css">
    <script src="./admin.js" defer></script>
    <title>BusyCorner - Admin</title>
</head>

<body>
    <!-- Desktop Warning -->
    <div class="desktop-warning" id="desktopWarning">
        <div class="warning-content">
            <img src="./BusyCorner.png" alt="BusyCorner Logo" class="warning-logo">
            <h1>Desktop Not Supported</h1>
            <p>This platform is optimized for mobile and tablet devices only.<br>
                Please open on a mobile device or resize your browser window.
            </p>
        </div>
    </div>

    <!-- Mobile Content -->
    <div class="mobile-content" id="mobileContent">
        <!-- Fixed Navigation -->
        <nav id="mainNav">
            <div class="logo">
                <img src="./BusyCorner.png" alt="BusyCorner Logo">
            </div>

            <!-- Hamburger Menu Button -->
            <button class="hamburger-menu" id="hamburgerBtn" aria-label="Toggle navigation menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </nav>

        <!-- Sidebar Navigation -->
        <div class="sidebar" id="sidebar">
            <ul class="sidebar-nav">
                <li><a href="#dashboard" class="nav-link" data-section="dashboard">Dashboard</a></li>
                <li><a href="#details" class="nav-link" data-section="details">Details</a></li>
            </ul>
        </div>

        <!-- Overlay for closing sidebar -->
        <div class="overlay" id="overlay"></div>

        <!-- Main content area -->
        <main id="mainContent">
            <!-- Dashboard Section -->
            <section id="dashboard" class="page-section active">
                <div class="section-content">
                    <h1>Admin Dashboard</h1>
                    <p>Monitor performance and total profits.</p>

                    <!-- Stats Cards -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>Total Complete Orders</h3>
                            <div class="stat-number" id="completedOrders">0</div>
                            <div class="stat-label" id="yearlyStatLabel">Completed orders for 2026</div>
                        </div>
                        <div class="stat-card">
                            <h3>Total Profit</h3>
                            <div class="stat-number" id="totalProfit">R0</div>
                            <div class="stat-label">5% transaction profit</div>
                        </div>
                    </div>

                    <!-- Logout Button -->
                    <div class="logout-section">
                        <button class="logout-btn" id="logoutBtn">Logout</button>
                    </div>
                </div>
            </section>

            <!-- Details Section -->
            <section id="details" class="page-section">
                <div class="section-content">
                    <h1>Admin Details</h1>
                    <p>Update your login credentials.</p>

                    <!-- Admin Info Form -->
                    <form class="admin-form" id="adminForm">
                        <h2>Login Details</h2>
                        <div class="form-group">
                            <label for="currentAdminEmail">Current Email Address</label>
                            <input type="email" id="currentAdminEmail" placeholder="Current email" readonly>
                        </div>
                        <div class="form-group">
                            <label for="newAdminEmail">New Email Address</label>
                            <input type="email" id="newAdminEmail" placeholder="Enter new email">
                        </div>
                        <div class="form-group">
                            <label for="currentAdminPassword">Current Password</label>
                            <input type="password" id="currentAdminPassword" placeholder="Enter current password">
                        </div>
                        <div class="form-group">
                            <label for="newAdminPassword">New Password</label>
                            <input type="password" id="newAdminPassword" placeholder="Enter new password">
                        </div>
                        <div class="form-group">
                            <label for="confirmAdminPassword">Confirm New Password</label>
                            <input type="password" id="confirmAdminPassword" placeholder="Confirm new password">
                        </div>

                        <div class="form-actions">
                            <button type="button" class="cancel-btn" id="cancelChanges">Cancel</button>
                            <button type="submit" class="save-btn">Save Changes</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Logout Confirmation Modal -->
            <div class="confirm-modal" id="confirmModal">
                <div class="confirm-modal-content">
                    <div class="confirm-modal-header">
                        <h3>Confirm Logout</h3>
                        <button class="close-confirm-modal" id="closeConfirmModal">&times;</button>
                    </div>
                    <div class="confirm-modal-body">
                        <p id="confirmMessage">Are you sure you want to logout?</p>
                    </div>
                    <div class="confirm-modal-footer">
                        <button type="button" class="cancel-confirm-btn" id="cancelConfirm">Cancel</button>
                        <button type="button" class="delete-btn" id="confirmAction">Logout</button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer id="mainFooter">
            <p>&copy; 2025 BusyCorner. All rights reserved.</p>
        </footer>

        <!-- Success Message Toast -->
        <div class="toast" id="toast"></div>
    </div>
</body>

</html>